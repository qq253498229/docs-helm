<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<title>Charts</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Charts</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_chart的文件结构">Chart的文件结构</a></li>
<li><a href="#_chart_yaml文件">Chart.yaml文件</a>
<ul class="sectlevel2">
<li><a href="#_charts和版本">Charts和版本</a></li>
<li><a href="#_appversion字段">appVersion字段</a></li>
<li><a href="#_弃用charts">弃用Charts</a></li>
</ul>
</li>
<li><a href="#_chart的许可证自述文件和注释文件">Chart的许可证，自述文件和注释文件</a></li>
<li><a href="#_chart_dependencies">Chart Dependencies</a>
<ul class="sectlevel2">
<li><a href="#_使用requirements_yaml管理依赖关系">使用`requirements.yaml`管理依赖关系</a></li>
<li><a href="#_managing_dependencies_manually_via_the_charts_directory">Managing Dependencies manually via the <code>charts/</code> directory</a></li>
<li><a href="#_operational_aspects_of_using_dependencies">Operational aspects of using dependencies</a></li>
</ul>
</li>
<li><a href="#_templates_and_values">Templates and Values</a>
<ul class="sectlevel2">
<li><a href="#_template_files">Template Files</a></li>
<li><a href="#_predefined_values">Predefined Values</a></li>
<li><a href="#_values_files">Values files</a></li>
<li><a href="#_scope_dependencies_and_values">Scope, Dependencies, and Values</a></li>
<li><a href="#_references">References</a></li>
</ul>
</li>
<li><a href="#_using_helm_to_manage_charts">Using Helm to Manage Charts</a></li>
<li><a href="#_chart_repositories">Chart Repositories</a></li>
<li><a href="#_chart_starter_packs">Chart Starter Packs</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Helm使用名为 <em>charts</em> 的打包格式。
chart是描述相关Kubernetes资源集的文件集合。
既可以使用单个chart来部署简单的内容，例如memcached pod，同时也可以是复杂的，例如包含HTTP服务器，数据库，缓存等的完整Web应用程序堆栈。</p>
</div>
<div class="paragraph">
<p>chart创建为在特定目录树中布置的文件，
然后可以将它们打包到要部署的版本化档案中。</p>
</div>
<div class="paragraph">
<p>本文档解释了chart格式，并提供了使用Helm构建chart的基本指导。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chart的文件结构">Chart的文件结构</h2>
<div class="sectionbody">
<div class="paragraph">
<p>chart是目录内的文件集合。
目录名称是chart的名称（没有版本控制信息）。
因此，描述WordPress的chart将存储在 <code>wordpress/</code> 目录中。</p>
</div>
<div class="paragraph">
<p>在这个目录里面，Helm会期望一个下面的结构：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>wordpress/
  Chart.yaml          # 包含有关chart信息的YAML文件
  LICENSE             # 可选：包含chart许可证的纯文本文件
  README.md           # 可选：高可读的README文件
  requirements.yaml   # 可选：列出chart依赖关系的YAML文件
  values.yaml         # 此chart的默认配置values
  charts/             # 包含此chart所依赖的任何chart的目录
  templates/          # 模板目录，当与values组合时将生成有效的Kubernetes清单文件。
  templates/NOTES.txt # 可选：包含简短使用说明的纯文本文件</code></pre>
</div>
</div>
<div class="paragraph">
<p>Helm保留使用 <code>charts/</code> 和 <code>templates/</code> 目录以及列出的文件名。
其他文件将保留原样。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chart_yaml文件">Chart.yaml文件</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>Chart.yaml</code> 文件是chart所必须的。 它包含以下字段：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: chart的API版本, 始终是"v1" (必填)
name: chart的名字 (必填)
version: 语义化版本 (必填)
kubeVersion: 兼容语义化版本的Kubernetes版本 (可选)
description: 这个项目的单句描述 (可选)
keywords:
  - 关于此项目的关键字列表 (可选)
home: 该项目主页的URL (可选)
sources:
  - 此项目的源代码的URL列表 (可选)
maintainers: # (可选)
  - name: 维护者的名字 (每个维护者都必填)
    email: 维护者的电子邮件 (每个维护者都可选)
    url: 维护者的URL (每个维护者都可选)
engine: gotpl # 模板引擎的名称 (可选, 默认是 gotpl)
icon: 要用作图标的SVG或PNG图像的URL (可选).
appVersion: 包含的应用版本 (可选). 这里可以不是语义化版本.
deprecated: 是否弃用此chart (可选, boolean类型)
tillerVersion: 此chart需要的Tiller版本。 应该是一个语义化版本，范围："&gt;2.0.0" (可选)</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果您熟悉Helm 经典的`Chart.yaml`文件格式，您会注意到已删除指定依赖项的字段。
这是因为新的Chart格式使用`charts/`目录表达依赖关系。</p>
</div>
<div class="paragraph">
<p>其他字段将被默认忽略。</p>
</div>
<div class="sect2">
<h3 id="_charts和版本">Charts和版本</h3>
<div class="paragraph">
<p>每个chart都必须有版本号。
版本必须遵循https://semver.org/lang/zh-CN/[语义化版本]标准。
与Helm经典的不同，Kubernetes Helm使用版本号作为发布标记。
存储库中的包由名称和版本标识。</p>
</div>
<div class="paragraph">
<p>例如，将其版本字段设置为`version：1.2.3`的`nginx`chart命名为：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>nginx-1.2.3.tgz</code></pre>
</div>
</div>
<div class="paragraph">
<p>还支持更复杂的语义化版本名称，例如`version: 1.2.3-alpha.1+ef365`。
但是系统明确禁止非SemVer名称。</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> 虽然Helm 经典的和Deployment Manager在chart方面都非常面向GitHub，但Kubernetes Helm并不依赖或要求GitHub甚至是Git。
因此，它根本不使用Git SHA进行版本控制。</p>
</div>
<div class="paragraph">
<p>`Chart.yaml`中的`version`字段被许多Helm工具使用，包括CLI和Tiller服务器。
生成包时，`helm package`命令将使用它在`Chart.yaml`中找到的版本作为包名中的标记。
系统假定chart包名称中的版本号与`Chart.yaml`中的版本号匹配。
不满足此假设将导致错误。</p>
</div>
</div>
<div class="sect2">
<h3 id="_appversion字段">appVersion字段</h3>
<div class="paragraph">
<p>请注意，<code>appVersion`字段与`version`字段无关。
这是一种指定应用程序版本的方法。
例如，`drupal`chart可能有一个版本是`appVersion: 8.2.1</code>，表示chart中包含的Drupal版本（默认情况下）是`8.2.1`。
此字段是信息性的，对chart版本计算没有影响。</p>
</div>
</div>
<div class="sect2">
<h3 id="_弃用charts">弃用Charts</h3>
<div class="paragraph">
<p>在chart存储库中管理chart时，有时需要弃用chart。
`Chart.yaml`中的可选字段`deprecated`可用于将chart标记为已弃用。
如果存储库中chart的 <strong>最新</strong> 版本标记为已弃用，则会将该chart视为不推荐使用。
稍后可以通过发布未标记为已弃用的较新版本来重用chart名称。
弃用chart的工作流程，如https://github.com/kubernetes/charts[kubernetes/charts]项目所示：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>更新chart的`Chart.yaml`以将chart标记为已弃用，从而使版本更新</p>
</li>
<li>
<p>在chart存储库中释放新的chart版本</p>
</li>
<li>
<p>从源存储库中删除chart（例如git）</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chart的许可证自述文件和注释文件">Chart的许可证，自述文件和注释文件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>chart还可以包含描述chart的安装，配置，使用和许可的文件。
chart的自述文件应格式化为Markdown（README.md），通常应包含：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>chart提供的应用程序或服务的描述</p>
</li>
<li>
<p>运行chart的任何先决条件或要求</p>
</li>
<li>
<p><code>values.yaml</code> 中的选项和默认值的描述</p>
</li>
<li>
<p>可能与chart的安装或配置相关的任何其他信息</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>该chart还可以包含一个简短的纯文本`templates/NOTES.txt`文件，该文件将在安装后打印出来，并在查看版本的状态时打印出来。
此文件被评估为<a href="#templates-and-values">模板</a>，可用于显示使用说明，后续步骤或与chart发布相关的任何其他信息。
例如，可以提供用于连接到数据库或访问web UI的指令。
由于在运行`helm install`或`helm status`时将此文件打印到控制台，因此建议保持内容简短并指向README以获取更多详细信息。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chart_dependencies">Chart Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在Helm中，一个chart可能取决于多个的其它的chart。
这些依赖项可以通过`requirements.yaml`动态链接
文件或带入`charts/`目录并手动管理。</p>
</div>
<div class="paragraph">
<p>虽然手动管理依赖项具备一些团队需要的优点，但声明依赖项的首选方法仍然是使用chart中的`requirements.yaml`文件。</p>
</div>
<div class="paragraph">
<p><strong>注意：</strong> Helm Classic的`Chart.yaml`的`dependencies:`部分已被完全删除。</p>
</div>
<div class="sect2">
<h3 id="_使用requirements_yaml管理依赖关系">使用`requirements.yaml`管理依赖关系</h3>
<div class="paragraph">
<p>`requirements.yaml`文件是一个用于列出依赖项的简单文件。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">dependencies:
  - name: apache
    version: 1.2.3
    repository: http://example.com/charts
  - name: mysql
    version: 3.2.1
    repository: http://another.example.com/charts</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>`name`字段是您想要的chart的名称。</p>
</li>
<li>
<p>`version`字段是您想要的chart的版本。</p>
</li>
<li>
<p>`repository`字段是chart存储库的完整URL。 请注意，您还必须使用`helm repo add`在本地添加该repo。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>一旦你有了一个依赖项文件，就可以运行`helm dependency update`，它将使用你的依赖文件将所有指定的chart下载到你的`charts/`目录中。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ helm dep up foochart
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "local" chart repository
...Successfully got an update from the "stable" chart repository
...Successfully got an update from the "example" chart repository
...Successfully got an update from the "another" chart repository
Update Complete. Happy Helming!
Saving 2 charts
Downloading apache from repo http://example.com/charts
Downloading mysql from repo http://another.example.com/charts</code></pre>
</div>
</div>
<div class="paragraph">
<p>当`helm dependency update`检索chart时，它会将它们存储为`charts/`目录中的chart压缩包。
因此，对于上面的示例，应该在chart目录中看到以下文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>charts/
  apache-1.2.3.tgz
  mysql-3.2.1.tgz</code></pre>
</div>
</div>
<div class="paragraph">
<p>使用`requirements.yaml`管理chart是一种很容易保持chart更新速度的好方法，也可以在整个团队中共享需求信息。</p>
</div>
<div class="sect3">
<h4 id="_requirements_yaml中的alias字段">requirements.yaml中的Alias字段</h4>
<div class="paragraph">
<p>除了上面的其他字段之外，每个需求条目还可以包含可选字段`alias`。</p>
</div>
<div class="paragraph">
<p>为依赖关系chart添加别名会使用别名作为新依赖关系的名称将chart放在依赖关系中。</p>
</div>
<div class="paragraph">
<p>如果需要使用其他名称访问chart，可以使用`alias`。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># parentchart/requirements.yaml
dependencies:
  - name: subchart
    repository: http://localhost:10191
    version: 0.1.0
    alias: new-subchart-1
  - name: subchart
    repository: http://localhost:10191
    version: 0.1.0
    alias: new-subchart-2
  - name: subchart
    repository: http://localhost:10191
    version: 0.1.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>在上面的例子中，`parentchart`获得3个依赖项</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>subchart
new-subchart-1
new-subchart-2</code></pre>
</div>
</div>
<div class="paragraph">
<p>实现此目的的手动方法是使用不同的名称多次复制/粘贴`charts/`目录中的相同chart。</p>
</div>
</div>
<div class="sect3">
<h4 id="_requirements_yaml中的tags和condition字段">requirements.yaml中的Tags和Condition字段</h4>
<div class="paragraph">
<p>除了上面的其他字段之外，每个需求条目还可以使用可选字段`tags`和`condition`。</p>
</div>
<div class="paragraph">
<p>默认情况下会加载所有chart。
如果存在`tags`或`condition`字段，它们将被评估并用于控制它们所应用的chart的加载。</p>
</div>
<div class="paragraph">
<p>Condition - 条件字段包含一个或多个YAML路径（以逗号分隔）。
如果此路径存在于顶级父级的值中并解析为布尔值，则将根据该布尔值启用或禁用该chart。
仅评估列表中找到的第一个有效路径，如果不存在路径，则该条件无效。</p>
</div>
<div class="paragraph">
<p>Tags - 标签字段是与此chart关联的标签的YAML列表。
在顶级父级的值中，可以通过指定标记和布尔值来启用或禁用所有带标记的chart。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># parentchart/requirements.yaml
dependencies:
      - name: subchart1
        repository: http://localhost:10191
        version: 0.1.0
        condition: subchart1.enabled,global.subchart1.enabled
        tags:
          - front-end
          - subchart1

      - name: subchart2
        repository: http://localhost:10191
        version: 0.1.0
        condition: subchart2.enabled,global.subchart2.enabled
        tags:
          - back-end
          - subchart2</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># parentchart/values.yaml

subchart1:
  enabled: true
tags:
  front-end: false
  back-end: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>在上面的示例中，所有带有`front-end`标签的chart都将被禁用，但由于`subchart1.enabled`路径在父值的值中评估为&#8217;true'，条件将覆盖`front-end`标签,`subchart1`将被启用。</p>
</div>
<div class="paragraph">
<p>由于`subchart2`被标记为`back-end`并且该标签评估为`true`，因此将启用`subchart2`。
另请注意，虽然`subchart2`具有`requirements.yaml`中指定的条件，但父项的值中没有相应的路径和值，因此条件无效。</p>
</div>
<div class="sect4">
<h5 id="_使用带有标签和条件的cli">使用带有标签和条件的CLI</h5>
<div class="paragraph">
<p>可以像往常一样使用`--set`参数来修改标记和条件值。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>helm install --set tags.front-end=true --set subchart2.enabled=false</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_标签和条件解决方案">标签和条件解决方案</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Conditions（在values中设置时）始终覆盖tags。</strong> 忽略存在的第一个条件路径和该chart的后续条件路径。</p>
</li>
<li>
<p>标签被评估为&#8217;如果任何chart的标签为真，则启用chart'。</p>
</li>
<li>
<p>标签和条件值必须在顶级父级的值中设置。</p>
</li>
<li>
<p>值中的`tags:`键必须是顶级键。 全局和嵌套`tags:`表目前不受支持。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_通过requirements_yaml导入子值">通过requirements.yaml导入子值</h4>
<div class="paragraph">
<p>在某些情况下，可能希望允许子chart的值传播到父chart并可以作为常见默认值共享。
使用`exports`格式的另一个好处是，它将使未来的工具能够内省用户可设置的值。</p>
</div>
<div class="paragraph">
<p>可以使用YAML列表在父chart的`requirements.yaml`文件中指定包含要导入的值的键。
列表中的每个项目都是从子chart的`exports`字段导入的键。</p>
</div>
<div class="paragraph">
<p>要导入未包含在`exports`键中的值，请使用<a href="#using-the-child-parent-format">child-parent</a>格式。
两种格式的示例如下所述。</p>
</div>
<div class="sect4">
<h5 id="_使用导出格式">使用导出格式</h5>
<div class="paragraph">
<p>如果子chart的`values.yaml`文件在根节点中包含`exports`字段，则可以通过指定要导入的键将其内容直接导入父值的值，如下例所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># parent's requirements.yaml file
    ...
    import-values:
      - data</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># child's values.yaml file
...
exports:
  data:
    myint: 99</code></pre>
</div>
</div>
<div class="paragraph">
<p>由于我们在导入列表中指定了键`data`，因此Helm在子chart的`exports`字段中查找`data`键并导入其内容。</p>
</div>
<div class="paragraph">
<p>最终的父值将包含我们的导出字段：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># parent's values file
...
myint: 99</code></pre>
</div>
</div>
<div class="paragraph">
<p>请注意，父键的`data`不包含在父项的最终值中。
如果需要指定父键，请使用&#8217;child-parent&#8217;的格式。</p>
</div>
</div>
<div class="sect4">
<h5 id="_使用child_parent的格式">使用child-parent的格式</h5>
<div class="paragraph">
<p>要访问未包含在子chart值的`exports`键中的值，您需要指定要导入的值的源键（<code>child</code>）和父chart值中的目标路径（<code>parent</code>）。</p>
</div>
<div class="paragraph">
<p>下面示例中的`import-values`指示Helm获取在`child:`路径中找到的任何值，并将它们复制到`parent:`中指定的路径的父值。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># parent's requirements.yaml file
dependencies:
  - name: subchart1
    repository: http://localhost:10191
    version: 0.1.0
    ...
    import-values:
      - child: default.data
        parent: myimports</code></pre>
</div>
</div>
<div class="paragraph">
<p>在上面的例子中，在subchart1的值中`default.data`处找到的值将被导入到父图表值中的`myimports`键，如下所述：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># parent's values.yaml file

myimports:
  myint: 0
  mybool: false
  mystring: "helm rocks!"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># subchart1's values.yaml file

default:
  data:
    myint: 999
    mybool: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>The parent chart&#8217;s resulting values would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># parent's final values

myimports:
  myint: 999
  mybool: true
  mystring: "helm rocks!"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The parent&#8217;s final values now contains the <code>myint</code> and <code>mybool</code> fields imported from subchart1.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_managing_dependencies_manually_via_the_charts_directory">Managing Dependencies manually via the <code>charts/</code> directory</h3>
<div class="paragraph">
<p>If more control over dependencies is desired, these dependencies can
be expressed explicitly by copying the dependency charts into the
<code>charts/</code> directory.</p>
</div>
<div class="paragraph">
<p>A dependency can be either a chart archive (<code>foo-1.2.3.tgz</code>) or an
unpacked chart directory. But its name cannot start with <code>_</code> or <code>.</code>.
Such files are ignored by the chart loader.</p>
</div>
<div class="paragraph">
<p>For example, if the WordPress chart depends on the Apache chart, the
Apache chart (of the correct version) is supplied in the WordPress
chart&#8217;s <code>charts/</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>wordpress:
  Chart.yaml
  requirements.yaml
  # ...
  charts/
    apache/
      Chart.yaml
      # ...
    mysql/
      Chart.yaml
      # ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example above shows how the WordPress chart expresses its dependency
on Apache and MySQL by including those charts inside of its <code>charts/</code>
directory.</p>
</div>
<div class="paragraph">
<p><strong>TIP</strong> <em>To drop a dependency into your <code>charts/</code> directory, use the
<code>helm fetch</code> command</em></p>
</div>
</div>
<div class="sect2">
<h3 id="_operational_aspects_of_using_dependencies">Operational aspects of using dependencies</h3>
<div class="paragraph">
<p>The above sections explain how to specify chart dependencies, but how does this affect
chart installation using <code>helm install</code> and <code>helm upgrade</code>?</p>
</div>
<div class="paragraph">
<p>Suppose that a chart named "A" creates the following Kubernetes objects</p>
</div>
<div class="ulist">
<ul>
<li>
<p>namespace "A-Namespace"</p>
</li>
<li>
<p>statefulset "A-StatefulSet"</p>
</li>
<li>
<p>service "A-Service"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Furthermore, A is dependent on chart B that creates objects</p>
</div>
<div class="ulist">
<ul>
<li>
<p>namespace "B-Namespace"</p>
</li>
<li>
<p>replicaset "B-ReplicaSet"</p>
</li>
<li>
<p>service "B-Service"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After installation/upgrade of chart A a single Helm release is created/modified. The release will
create/update all of the above Kubernetes objects in the following order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A-Namespace</p>
</li>
<li>
<p>B-Namespace</p>
</li>
<li>
<p>A-StatefulSet</p>
</li>
<li>
<p>B-ReplicaSet</p>
</li>
<li>
<p>A-Service</p>
</li>
<li>
<p>B-Service</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is because when Helm installs/upgrades charts,
the Kubernetes objects from the charts and all its dependencies are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>aggregrated into a single set; then</p>
</li>
<li>
<p>sorted by type followed by name; and then</p>
</li>
<li>
<p>created/updated in that order.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Hence a single release is created with all the objects for the chart and its dependencies.</p>
</div>
<div class="paragraph">
<p>The install order of Kubernetes types is given by the enumeration InstallOrder in kind_sorter.go
(see <a href="https://github.com/kubernetes/helm/blob/master/pkg/tiller/kind_sorter.go#L26">the Helm source file</a>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_templates_and_values">Templates and Values</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Helm Chart templates are written in the
<a href="https://golang.org/pkg/text/template/">Go template language</a>, with the
addition of 50 or so add-on template
functions <a href="https://github.com/Masterminds/sprig">from the Sprig library</a> and a
few other <a href="charts_tips_and_tricks.html">specialized functions</a>.</p>
</div>
<div class="paragraph">
<p>All template files are stored in a chart&#8217;s <code>templates/</code> folder. When
Helm renders the charts, it will pass every file in that directory
through the template engine.</p>
</div>
<div class="paragraph">
<p>Values for the templates are supplied two ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Chart developers may supply a file called <code>values.yaml</code> inside of a
chart. This file can contain default values.</p>
</li>
<li>
<p>Chart users may supply a YAML file that contains values. This can be
provided on the command line with <code>helm install</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a user supplies custom values, these values will override the
values in the chart&#8217;s <code>values.yaml</code> file.</p>
</div>
<div class="sect2">
<h3 id="_template_files">Template Files</h3>
<div class="paragraph">
<p>Template files follow the standard conventions for writing Go templates
(see <a href="https://golang.org/pkg/text/template/">the text/template Go package documentation</a>
for details).
An example template file might look something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: ReplicationController
metadata:
  name: deis-database
  namespace: deis
  labels:
    app.kubernetes.io/managed-by: deis
spec:
  replicas: 1
  selector:
    app.kubernetes.io/name: deis-database
  template:
    metadata:
      labels:
        app.kubernetes.io/name: deis-database
    spec:
      serviceAccount: deis-database
      containers:
        - name: deis-database
          image: {{.Values.imageRegistry}}/postgres:{{.Values.dockerTag}}
          imagePullPolicy: {{.Values.pullPolicy}}
          ports:
            - containerPort: 5432
          env:
            - name: DATABASE_STORAGE
              value: {{default "minio" .Values.storage}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above example, based loosely on <a href="https://github.com/deis/charts">https://github.com/deis/charts</a>, is a template for a Kubernetes replication controller.
It can use the following four template values (usually defined in a
<code>values.yaml</code> file):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>imageRegistry</code>: The source registry for the Docker image.</p>
</li>
<li>
<p><code>dockerTag</code>: The tag for the docker image.</p>
</li>
<li>
<p><code>pullPolicy</code>: The Kubernetes pull policy.</p>
</li>
<li>
<p><code>storage</code>: The storage backend, whose default is set to <code>&quot;minio&quot;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All of these values are defined by the template author. Helm does not
require or dictate parameters.</p>
</div>
<div class="paragraph">
<p>To see many working charts, check out the <a href="https://github.com/kubernetes/charts">Kubernetes Charts
project</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_predefined_values">Predefined Values</h3>
<div class="paragraph">
<p>Values that are supplied via a <code>values.yaml</code> file (or via the <code>--set</code>
flag) are accessible from the <code>.Values</code> object in a template. But there
are other pre-defined pieces of data you can access in your templates.</p>
</div>
<div class="paragraph">
<p>The following values are pre-defined, are available to every template, and
cannot be overridden. As with all values, the names are <em>case
sensitive</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Release.Name</code>: The name of the release (not the chart)</p>
</li>
<li>
<p><code>Release.Time</code>: The time the chart release was last updated. This will
match the <code>Last Released</code> time on a Release object.</p>
</li>
<li>
<p><code>Release.Namespace</code>: The namespace the chart was released to.</p>
</li>
<li>
<p><code>Release.Service</code>: The service that conducted the release. Usually
this is <code>Tiller</code>.</p>
</li>
<li>
<p><code>Release.IsUpgrade</code>: This is set to true if the current operation is an upgrade or rollback.</p>
</li>
<li>
<p><code>Release.IsInstall</code>: This is set to true if the current operation is an
install.</p>
</li>
<li>
<p><code>Release.Revision</code>: The revision number. It begins at 1, and increments with
each <code>helm upgrade</code>.</p>
</li>
<li>
<p><code>Chart</code>: The contents of the <code>Chart.yaml</code>. Thus, the chart version is
obtainable as <code>Chart.Version</code> and the maintainers are in
<code>Chart.Maintainers</code>.</p>
</li>
<li>
<p><code>Files</code>: A map-like object containing all non-special files in the chart. This
will not give you access to templates, but will give you access to additional
files that are present (unless they are excluded using <code>.helmignore</code>). Files can be
accessed using <code>{{index .Files &quot;file.name&quot;}}</code> or using the <code>{{.Files.Get name}}</code> or
<code>{{.Files.GetString name}}</code> functions. You can also access the contents of the file
as <code>[]byte</code> using <code>{{.Files.GetBytes}}</code></p>
</li>
<li>
<p><code>Capabilities</code>: A map-like object that contains information about the versions
of Kubernetes (<code>{{.Capabilities.KubeVersion}}</code>, Tiller
(<code>{{.Capabilities.TillerVersion}}</code>, and the supported Kubernetes API versions
(<code>{{.Capabilities.APIVersions.Has &quot;batch/v1&quot;</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> Any unknown Chart.yaml fields will be dropped. They will not
be accessible inside of the <code>Chart</code> object. Thus, Chart.yaml cannot be
used to pass arbitrarily structured data into the template. The values
file can be used for that, though.</p>
</div>
</div>
<div class="sect2">
<h3 id="_values_files">Values files</h3>
<div class="paragraph">
<p>Considering the template in the previous section, a <code>values.yaml</code> file
that supplies the necessary values would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">imageRegistry: "quay.io/deis"
dockerTag: "latest"
pullPolicy: "Always"
storage: "s3"</code></pre>
</div>
</div>
<div class="paragraph">
<p>A values file is formatted in YAML. A chart may include a default
<code>values.yaml</code> file. The Helm install command allows a user to override
values by supplying additional YAML values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ helm install --values=myvals.yaml wordpress</code></pre>
</div>
</div>
<div class="paragraph">
<p>When values are passed in this way, they will be merged into the default
values file. For example, consider a <code>myvals.yaml</code> file that looks like
this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">storage: "gcs"</code></pre>
</div>
</div>
<div class="paragraph">
<p>When this is merged with the <code>values.yaml</code> in the chart, the resulting
generated content will be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">imageRegistry: "quay.io/deis"
dockerTag: "latest"
pullPolicy: "Always"
storage: "gcs"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that only the last field was overridden.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> The default values file included inside of a chart <em>must</em> be named
<code>values.yaml</code>. But files specified on the command line can be named
anything.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> If the <code>--set</code> flag is used on <code>helm install</code> or <code>helm upgrade</code>, those
values are simply converted to YAML on the client side.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> If any required entries in the values file exist, they can be declared
as required in the chart template by using the <a href="charts_tips_and_tricks.html">'required' function</a></p>
</div>
<div class="paragraph">
<p>Any of these values are then accessible inside of templates using the
<code>.Values</code> object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: v1
kind: ReplicationController
metadata:
  name: deis-database
  namespace: deis
  labels:
    app.kubernetes.io/managed-by: deis
spec:
  replicas: 1
  selector:
    app.kubernetes.io/name: deis-database
  template:
    metadata:
      labels:
        app.kubernetes.io/name: deis-database
    spec:
      serviceAccount: deis-database
      containers:
        - name: deis-database
          image: {{.Values.imageRegistry}}/postgres:{{.Values.dockerTag}}
          imagePullPolicy: {{.Values.pullPolicy}}
          ports:
            - containerPort: 5432
          env:
            - name: DATABASE_STORAGE
              value: {{default "minio" .Values.storage}}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scope_dependencies_and_values">Scope, Dependencies, and Values</h3>
<div class="paragraph">
<p>Values files can declare values for the top-level chart, as well as for
any of the charts that are included in that chart&#8217;s <code>charts/</code> directory.
Or, to phrase it differently, a values file can supply values to the
chart as well as to any of its dependencies. For example, the
demonstration WordPress chart above has both <code>mysql</code> and <code>apache</code> as
dependencies. The values file could supply values to all of these
components:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">title: "My WordPress Site" # Sent to the WordPress template

mysql:
  max_connections: 100 # Sent to MySQL
  password: "secret"

apache:
  port: 8080 # Passed to Apache</code></pre>
</div>
</div>
<div class="paragraph">
<p>Charts at a higher level have access to all of the variables defined
beneath. So the WordPress chart can access the MySQL password as
<code>.Values.mysql.password</code>. But lower level charts cannot access things in
parent charts, so MySQL will not be able to access the <code>title</code> property. Nor,
for that matter, can it access <code>apache.port</code>.</p>
</div>
<div class="paragraph">
<p>Values are namespaced, but namespaces are pruned. So for the WordPress
chart, it can access the MySQL password field as <code>.Values.mysql.password</code>. But
for the MySQL chart, the scope of the values has been reduced and the
namespace prefix removed, so it will see the password field simply as
<code>.Values.password</code>.</p>
</div>
<div class="sect3">
<h4 id="_global_values">Global Values</h4>
<div class="paragraph">
<p>As of 2.0.0-Alpha.2, Helm supports special "global" value. Consider
this modified version of the previous example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">title: "My WordPress Site" # Sent to the WordPress template

global:
  app: MyWordPress

mysql:
  max_connections: 100 # Sent to MySQL
  password: "secret"

apache:
  port: 8080 # Passed to Apache</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above adds a <code>global</code> section with the value <code>app: MyWordPress</code>.
This value is available to <em>all</em> charts as <code>.Values.global.app</code>.</p>
</div>
<div class="paragraph">
<p>For example, the <code>mysql</code> templates may access <code>app</code> as <code>{{.Values.global.app}}</code>, and
so can the <code>apache</code> chart. Effectively, the values file above is
regenerated like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">title: "My WordPress Site" # Sent to the WordPress template

global:
  app: MyWordPress

mysql:
  global:
    app: MyWordPress
  max_connections: 100 # Sent to MySQL
  password: "secret"

apache:
  global:
    app: MyWordPress
  port: 8080 # Passed to Apache</code></pre>
</div>
</div>
<div class="paragraph">
<p>This provides a way of sharing one top-level variable with all
subcharts, which is useful for things like setting <code>metadata</code> properties
like labels.</p>
</div>
<div class="paragraph">
<p>If a subchart declares a global variable, that global will be passed
<em>downward</em> (to the subchart&#8217;s subcharts), but not <em>upward</em> to the parent
chart. There is no way for a subchart to influence the values of the
parent chart.</p>
</div>
<div class="paragraph">
<p>Also, global variables of parent charts take precedence over the global variables from subcharts.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_references">References</h3>
<div class="paragraph">
<p>When it comes to writing templates and values files, there are several
standard references that will help you out.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://godoc.org/text/template">Go templates</a></p>
</li>
<li>
<p><a href="https://godoc.org/github.com/Masterminds/sprig">Extra template functions</a></p>
</li>
<li>
<p><a href="http://yaml.org/spec/">The YAML format</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_helm_to_manage_charts">Using Helm to Manage Charts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>helm</code> tool has several commands for working with charts.</p>
</div>
<div class="paragraph">
<p>It can create a new chart for you:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ helm create mychart
Created mychart/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have edited a chart, <code>helm</code> can package it into a chart archive
for you:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ helm package mychart
Archived mychart-0.1.-.tgz</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use <code>helm</code> to help you find issues with your chart&#8217;s
formatting or information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ helm lint mychart
No issues found</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chart_repositories">Chart Repositories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <em>chart repository</em> is an HTTP server that houses one or more packaged
charts. While <code>helm</code> can be used to manage local chart directories, when
it comes to sharing charts, the preferred mechanism is a chart
repository.</p>
</div>
<div class="paragraph">
<p>Any HTTP server that can serve YAML files and tar files and can answer
GET requests can be used as a repository server.</p>
</div>
<div class="paragraph">
<p>Helm comes with built-in package server for developer testing (<code>helm
serve</code>). The Helm team has tested other servers, including Google Cloud
Storage with website mode enabled, and S3 with website mode enabled.</p>
</div>
<div class="paragraph">
<p>A repository is characterized primarily by the presence of a special
file called <code>index.yaml</code> that has a list of all of the packages supplied
by the repository, together with metadata that allows retrieving and
verifying those packages.</p>
</div>
<div class="paragraph">
<p>On the client side, repositories are managed with the <code>helm repo</code>
commands. However, Helm does not provide tools for uploading charts to
remote repository servers. This is because doing so would add
substantial requirements to an implementing server, and thus raise the
barrier for setting up a repository.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chart_starter_packs">Chart Starter Packs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>helm create</code> command takes an optional <code>--starter</code> option that lets you
specify a "starter chart".</p>
</div>
<div class="paragraph">
<p>Starters are just regular charts, but are located in <code>$HELM_HOME/starters</code>.
As a chart developer, you may author charts that are specifically designed
to be used as starters. Such charts should be designed with the following
considerations in mind:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>Chart.yaml</code> will be overwritten by the generator.</p>
</li>
<li>
<p>Users will expect to modify such a chart&#8217;s contents, so documentation
should indicate how users can do so.</p>
</li>
<li>
<p>All occurrences of <code>&lt;CHARTNAME&gt;</code> will be replaced with the specified chart
name so that starter charts can be used as templates.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Currently the only way to add a chart to <code>$HELM_HOME/starters</code> is to manually
copy it there. In your chart&#8217;s documentation, you may want to explain that
process.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-09-14 23:26:37 CST
</div>
</div>
</body>
</html>